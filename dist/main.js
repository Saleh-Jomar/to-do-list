(()=>{"use strict";class t{static overlay=document.querySelector(".overlay");static addProjectForm=document.querySelector(".add-project-popup");static addTaskForm=document.querySelector(".add-task-popup");static addProjectButton=document.getElementById("button-add-project");static addTaskButton=document.getElementById("add-task-button");static cancelButton=document.querySelectorAll(".cancel");static projDefaultBut=document.querySelectorAll(".button-default");static toDoList=document.querySelector("#to-do-list");static projectList=document.querySelector("#Project-List");static addProjectPopup(){t.addProjectForm.reset(),t.overlay.classList.add("active"),t.addProjectForm.classList.add("active")}static addTaskPopup(){t.addTaskForm.reset(),t.overlay.classList.add("active"),t.addTaskForm.classList.add("active")}static closePopup(){t.overlay.classList.remove("active"),t.addProjectForm.classList.remove("active"),t.addTaskForm.classList.remove("active")}static displayProjectTitle(t){const e=document.querySelector("#current-project-title");if("button-projects"!=t.target.className&&"button-default"!=t.target.className)return;const a="button-projects"==t.target.className?t.target.querySelector("div").innerHTML:t.target.innerHTML;e.innerHTML=a}static changeStatus(t){const e=t.target.parentNode.querySelector(".task-name"),a=t.target.parentNode.parentNode.querySelector(".task-date");t.target.checked?(e.innerHTML=`<s>${e.textContent}</s>`,a.innerHTML=`<s>${a.textContent}</s>`):(e.innerHTML=`${e.textContent}`,a.innerHTML=`${a.textContent}`)}static removeTask(e){const a=e.target.parentNode.parentNode;t.toDoList.removeChild(a)}static removeProject(e){const a=e.target.parentNode;t.projectList.removeChild(a),document.querySelector("#button-home").click()}static taskDisplayModify(e){switch(e.target.className){case"task-status":t.changeStatus(e);break;case"task-remove":t.removeTask(e)}}static projDisplayModify(e){switch(e.target.className){case"button-projects":t.displayProjectTitle(e);break;case"project-remove":t.removeProject(e)}}static renderProject(e){e.preventDefault();const a=document.querySelector("#project-name").value,s=document.getElementById("demo-project").cloneNode(!0);s.querySelector(".project-name").textContent=a,s.removeAttribute("id"),s.removeAttribute("style"),t.projectList.append(s),t.closePopup()}static Initialize(){window.addEventListener("keydown",(e=>{t.overlay.classList.contains("active")&&"Escape"===e.key&&t.closePopup()})),t.overlay.addEventListener("click",t.closePopup),t.addProjectButton.addEventListener("click",t.addProjectPopup),t.addTaskButton.addEventListener("click",t.addTaskPopup),t.cancelButton.forEach((e=>{e.addEventListener("click",t.closePopup)})),t.projectList.addEventListener("click",t.projDisplayModify),t.projDefaultBut.forEach((e=>{e.addEventListener("click",t.displayProjectTitle)})),t.toDoList.addEventListener("click",t.taskDisplayModify),t.addProjectForm.addEventListener("submit",t.renderProject)}}class e{constructor(t,e,a=!1){this.description=t,this.date=e,this.status=a}setDescription(t){this.description=t}setDate(t){this.date=t}setStatus(t){this.status=t}render(){const e=document.getElementById("Template").cloneNode(!0);e.querySelector(".task-name").textContent=this.description,e.querySelector(".task-date").textContent=this.date,e.removeAttribute("id"),e.removeAttribute("style"),t.toDoList.append(e),this.status&&e.querySelector(".task-status").click()}}class a{static project=[];static inputTask(){const t=document.querySelector("#task-name").value,a=document.querySelector("#task-date").value||"No Date";return new e(t,a)}static addTask(e){e.preventDefault();const s=a.inputTask();a.project.some((t=>t.description===s.description))?alert("You already made a task like this"):(a.project.push(s),s.render(),t.closePopup())}static editTaskStatus(t){if("task-status"!=t.target.className)return;const e=t.target.parentNode.parentNode.querySelector(".task-name").textContent;a.project.find((t=>t.description===e)).setStatus(t.target.checked)}static Initialize(){t.Initialize(),t.addTaskForm.addEventListener("submit",a.addTask),t.toDoList.addEventListener("click",a.editTaskStatus)}}a.Initialize()})();